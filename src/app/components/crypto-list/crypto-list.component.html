<div class="mx-auto p-4">
    <button class="px-4 py-2 mb-4 bg-zinc-50 text-center text-surface dark:bg-neutral-700 dark:text-white rounded-md"
        (click)="openFilterDialog()">Filter</button>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th scope="col"
                        class="px-2 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Symbol</th>
                    <th scope="col"
                        class="px-2 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Base Asset</th>
                    <th scope="col"
                        class="px-2 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Quote Asset</th>
                    <th scope="col"
                        class="px-2 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                    <th scope="col"
                        class="px-2 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Volume</th>
                    <th scope="col"
                        class="px-2 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price Change (%)</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                @for(crypto of filteredList(); track crypto) {
                <tr (click)="gotoDetails(crypto)">
                    <td class="px-2 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm">{{crypto.symbol}}</td>
                    <td class="px-2 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm">{{crypto.baseAsset}}</td>
                    <td class="px-2 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm">{{crypto.quoteAsset}}</td>
                    <td class="px-2 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm">{{crypto.price || 'Loading...'}}</td>
                    <td class="px-2 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm">{{crypto.volume || 'Loading...'}}</td>
                    <td class="px-2 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm">{{crypto.priceChangePercent || 'Loading...'}}</td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<app-filter-dialog (applyFiltersEvent)="applyFilters($event)"></app-filter-dialog>